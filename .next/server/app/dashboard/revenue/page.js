(()=>{var e={};e.id=640,e.ids=[640],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},6247:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var s=a(482),r=a(9108),l=a(2563),n=a.n(l),d=a(8300),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);a.d(t,i);let o=["",{children:["dashboard",{children:["revenue",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3668)),"C:\\Users\\ojuli\\AIOS\\meu-projeto\\app\\dashboard\\revenue\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,394)),"C:\\Users\\ojuli\\AIOS\\meu-projeto\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,2917)),"C:\\Users\\ojuli\\AIOS\\meu-projeto\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\ojuli\\AIOS\\meu-projeto\\app\\dashboard\\revenue\\page.tsx"],u="/dashboard/revenue/page",x={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/revenue/page",pathname:"/dashboard/revenue",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3532:(e,t,a)=>{let s={"0cba707ea69ebefe44654560f96b9e2772cf258e":()=>Promise.resolve().then(a.bind(a,2678)).then(e=>e.saveManualRevenue),"2c1361a44ae66a236195ff49507cdcdc35bc6d7f":()=>Promise.resolve().then(a.bind(a,2678)).then(e=>e.deleteManualRevenue),"4fb5fd6735204f8ef004b0d6452a086dfd9e5bb1":()=>Promise.resolve().then(a.bind(a,2678)).then(e=>e.getManualRevenue)};async function r(e,...t){return(await s[e]()).apply(null,t)}e.exports={"0cba707ea69ebefe44654560f96b9e2772cf258e":r.bind(null,"0cba707ea69ebefe44654560f96b9e2772cf258e"),"2c1361a44ae66a236195ff49507cdcdc35bc6d7f":r.bind(null,"2c1361a44ae66a236195ff49507cdcdc35bc6d7f"),"4fb5fd6735204f8ef004b0d6452a086dfd9e5bb1":r.bind(null,"4fb5fd6735204f8ef004b0d6452a086dfd9e5bb1")}},4416:(e,t,a)=>{Promise.resolve().then(a.bind(a,3846))},5154:(e,t,a)=>{"use strict";a.d(t,{MT:()=>l,cN:()=>r}),a(3664);var s=a(8371);(0,s.$)("4fb5fd6735204f8ef004b0d6452a086dfd9e5bb1");var r=(0,s.$)("0cba707ea69ebefe44654560f96b9e2772cf258e"),l=(0,s.$)("2c1361a44ae66a236195ff49507cdcdc35bc6d7f")},6695:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ManualRevenueModal:()=>m});var s=a(5344),r=a(3729);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,a(9224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var n=a(5313),d=a(4513),i=a(5794),o=a(2739),c=a(2312),u=a(6212),x=a(5154);function m({initialDate:e,initialAmount:t,forceOpen:a=!1,onClose:m}){let[h,p]=(0,r.useState)(a),[f,b]=(0,r.useState)(!1),[v,j]=(0,r.useState)(e||new Date().toISOString().split("T")[0]),[y,g]=(0,r.useState)(t||""),[N,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{p(a),e&&j(e),t&&g(t)},[a,e,t]);let k=()=>{p(!1),m&&m()},_=async e=>{e.preventDefault(),b(!0);try{await (0,x.cN)(v,parseFloat(y)),w(!0),setTimeout(()=>{w(!1),a||g(""),k()},1e3)}catch(e){alert("Erro ao salvar faturamento")}finally{b(!1)}};return(0,s.jsxs)(s.Fragment,{children:[!a&&(0,s.jsxs)(u.Button,{onClick:()=>p(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white gap-2",children:[s.jsx(l,{className:"h-4 w-4"}),"Lan\xe7ar Faturamento"]}),h&&s.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center",children:s.jsx(n.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-bold text-slate-900",children:[e?"Editar":"Lan\xe7ar"," Faturamento"]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Para c\xe1lculo de ROAS de alta precis\xe3o"})]})]}),s.jsx("button",{onClick:k,className:"text-slate-400 hover:text-slate-600",children:s.jsx(d.Z,{className:"h-5 w-5"})})]}),(0,s.jsxs)("form",{onSubmit:_,className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-2",children:[s.jsx(i.Z,{className:"h-4 w-4"})," Data da Venda"]}),s.jsx("input",{type:"date",value:v,onChange:e=>j(e.target.value),className:"w-full p-2.5 rounded-lg border border-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none text-slate-900",required:!0,disabled:!!e})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-2",children:"Valor Faturado (R$)"}),s.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:y,onChange:e=>g(e.target.value),className:"w-full p-2.5 rounded-lg border border-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none text-lg font-bold text-slate-900",required:!0,autoFocus:!0})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[s.jsx(u.Button,{type:"button",variant:"ghost",className:"flex-1",onClick:k,disabled:f,children:"Cancelar"}),s.jsx(u.Button,{type:"submit",className:`flex-1 transition-all ${N?"bg-green-600":"bg-emerald-600 hover:bg-emerald-700"}`,disabled:f||N,children:f?s.jsx(o.Z,{className:"h-4 w-4 animate-spin"}):N?s.jsx(c.Z,{className:"h-4 w-4"}):"Salvar Altera\xe7\xf5es"})]})]})]})})]})}},3846:(e,t,a)=>{"use strict";a.r(t),a.d(t,{RevenueList:()=>h});var s=a(5344),r=a(3729),l=a(9224);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,l.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var d=a(5794),i=a(5313);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,l.Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),c=(0,l.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var u=a(5154),x=a(6695),m=a(6506);function h({records:e}){let[t,a]=(0,r.useState)(null),[l,h]=(0,r.useState)(null),p=async e=>{if(confirm("Tem certeza que deseja excluir este registro?")){a(e);try{await (0,u.MT)(e)}catch(e){alert("Erro ao excluir")}finally{a(null)}}};return(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)(m.default,{href:"/dashboard",className:"flex items-center gap-2 text-slate-500 hover:text-slate-700 transition-colors mb-2 text-sm",children:[s.jsx(n,{className:"h-4 w-4"})," Voltar ao Dashboard"]}),s.jsx("h2",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Hist\xf3rico de Faturamento"}),s.jsx("p",{className:"text-slate-500",children:"Gerencie os lan\xe7amentos manuais usados no c\xe1lculo do ROAS."})]})}),s.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-left",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[s.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-slate-700",children:"Data"}),s.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-slate-700",children:"Valor Faturado"}),s.jsx("th",{className:"px-6 py-4 text-sm font-semibold text-slate-700 text-right",children:"A\xe7\xf5es"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:0===e.length?s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"px-6 py-12 text-center text-slate-500",children:"Nenhum lan\xe7amento encontrado para esta conta."})}):e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[s.jsx("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-700",children:[s.jsx(d.Z,{className:"h-4 w-4 text-slate-400"}),new Date(e.date).toLocaleDateString("pt-BR",{timeZone:"UTC"})]})}),s.jsx("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 font-bold text-emerald-600",children:[s.jsx(i.Z,{className:"h-4 w-4"}),"R$ ",Number(e.revenue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>h(e),className:"text-slate-300 hover:text-primary-600 transition-colors p-2 rounded-lg hover:bg-primary-50",title:"Editar Lan\xe7amento",children:s.jsx(o,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>p(e.id),disabled:t===e.id,className:"text-slate-300 hover:text-red-500 transition-colors p-2 rounded-lg hover:bg-red-50",title:"Excluir Lan\xe7amento",children:s.jsx(c,{className:`h-5 w-5 ${t===e.id?"animate-pulse":""}`})})]})})]},e.id))})]})}),l&&s.jsx(x.ManualRevenueModal,{initialDate:l.date,initialAmount:l.revenue.toString(),forceOpen:!0,onClose:()=>h(null)})]})}},5794:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2312:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5313:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},2739:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},4513:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8371:(e,t,a)=>{"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return r}});let s=a(3664);function r(e){let{createServerReference:t}=a(2228);return t(e,s.callServer)}},2678:(e,t,a)=>{"use strict";a.r(t),a.d(t,{deleteManualRevenue:()=>i,getManualRevenue:()=>o,saveManualRevenue:()=>d});var s=a(4471);a(8616);var r=a(6864),l=a(1664),n=a(9245);async function d(e,t){let a=await (0,n.W)();if(!a||!a.ad_account_id)throw Error("Ad account not selected");let s=await (0,l.e)(),{error:d}=await s.from("manual_revenue").upsert({ad_account_id:a.ad_account_id,date:e,revenue:t,updated_at:new Date().toISOString()},{onConflict:"ad_account_id,date"});if(d)throw console.error("Supabase Error:",d),Error("Failed to save revenue data");return(0,r.revalidatePath)("/dashboard"),(0,r.revalidatePath)("/dashboard/revenue"),{success:!0}}async function i(e){let t=await (0,l.e)(),{error:a}=await t.from("manual_revenue").delete().eq("id",e);if(a)throw Error("Failed to delete revenue record");return(0,r.revalidatePath)("/dashboard"),(0,r.revalidatePath)("/dashboard/revenue"),{success:!0}}async function o(e,t,a){let s=(await (0,l.e)()).from("manual_revenue").select("id, revenue, date").eq("ad_account_id",e).order("date",{ascending:!1});t&&(s=s.gte("date",t)),a&&(s=s.lte("date",a));let{data:r,error:n}=await s;return n?(console.error("Fetch Error:",n),[]):r}(0,a(2053).h)([d,i,o]),(0,s.U)("0cba707ea69ebefe44654560f96b9e2772cf258e",d),(0,s.U)("2c1361a44ae66a236195ff49507cdcdc35bc6d7f",i),(0,s.U)("4fb5fd6735204f8ef004b0d6452a086dfd9e5bb1",o)},3668:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(5036),r=a(6843);let l=(0,r.createProxy)(String.raw`C:\Users\ojuli\AIOS\meu-projeto\components\dashboard\RevenueList.tsx`),{__esModule:n,$$typeof:d}=l;l.default;let i=(0,r.createProxy)(String.raw`C:\Users\ojuli\AIOS\meu-projeto\components\dashboard\RevenueList.tsx#RevenueList`);var o=a(2678),c=a(9245),u=a(867);async function x(){let e=await (0,c.W)();e?.ad_account_id||(0,u.redirect)("/dashboard");let t=await (0,o.getManualRevenue)(e.ad_account_id);return s.jsx("div",{className:"max-w-4xl mx-auto py-8",children:s.jsx(i,{records:t})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[456,265,784,320,446,222,867,441],()=>a(6247));module.exports=s})();