(()=>{var e={};e.id=455,e.ids=[455],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},3828:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>c.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>l,routeModule:()=>x,tree:()=>d});var a=s(482),r=s(9108),n=s(2563),c=s.n(n),o=s(8300),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let d=["",{children:["dashboard",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8268)),"C:\\Users\\ojuli\\AIOS\\meu-projeto\\app\\dashboard\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,394)),"C:\\Users\\ojuli\\AIOS\\meu-projeto\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"C:\\Users\\ojuli\\AIOS\\meu-projeto\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],l=["C:\\Users\\ojuli\\AIOS\\meu-projeto\\app\\dashboard\\settings\\page.tsx"],u="/dashboard/settings/page",h={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/settings/page",pathname:"/dashboard/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3554:(e,t,s)=>{let a={"85cd07c6b22bacd363f608aeb5acc473d4dbc025":()=>Promise.resolve().then(s.bind(s,2938)).then(e=>e.disconnectMeta),d8d341e745e51cf5cccf4ddebfce74a9dfde4114:()=>Promise.resolve().then(s.bind(s,2938)).then(e=>e.selectAdAccount)};async function r(e,...t){return(await a[e]()).apply(null,t)}e.exports={"85cd07c6b22bacd363f608aeb5acc473d4dbc025":r.bind(null,"85cd07c6b22bacd363f608aeb5acc473d4dbc025"),d8d341e745e51cf5cccf4ddebfce74a9dfde4114:r.bind(null,"d8d341e745e51cf5cccf4ddebfce74a9dfde4114")}},6927:(e,t,s)=>{Promise.resolve().then(s.bind(s,1696))},1696:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ConnectMetaButton:()=>h});var a=s(5344),r=s(9224);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r.Z)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),c=(0,r.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var o=s(6212);s(3664);var i=s(8371),d=(0,i.$)("85cd07c6b22bacd363f608aeb5acc473d4dbc025");(0,i.$)("d8d341e745e51cf5cccf4ddebfce74a9dfde4114");var l=s(8428),u=s(3729);function h({isConnected:e}){let t=(0,l.useRouter)(),[s,r]=(0,u.useState)(!1),i=async()=>{if(confirm("Tem certeza que deseja desconectar sua conta da Meta?")){r(!0);try{await d(),t.refresh()}catch(e){alert("Erro ao desconectar conta.")}finally{r(!1)}}};return a.jsx("div",{className:"rounded-lg border border-slate-200 bg-white p-6 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-[#1877F2]/10 text-[#1877F2]",children:a.jsx(n,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"Meta Ads (Facebook/Instagram)"}),a.jsx("p",{className:"text-sm text-slate-500",children:e?"Sua conta est\xe1 conectada e sincronizando dados.":"Conecte para gerenciar campanhas e analisar m\xe9tricas."})]})]}),a.jsx("div",{className:"flex space-x-2",children:e?(0,a.jsxs)(a.Fragment,{children:[a.jsx(o.Button,{variant:"outline",className:"border-green-200 bg-green-50 text-green-700 hover:bg-green-50 cursor-default",children:"Conectado"}),a.jsx(o.Button,{variant:"ghost",size:"icon",onClick:i,disabled:s,className:"text-slate-400 hover:text-red-500 hover:bg-red-50",title:"Desconectar",children:a.jsx(c,{className:"h-5 w-5"})})]}):a.jsx(o.Button,{onClick:()=>{window.location.href="/api/auth/meta"},className:"bg-[#1877F2] hover:bg-[#166fe5]",children:"Conectar Conta"})})]})})}},2938:(e,t,s)=>{"use strict";s.r(t),s.d(t,{disconnectMeta:()=>d,selectAdAccount:()=>i});var a=s(8601);s(5811);var r=s(5345),n=s(3811),c=s(2810),o=s(7949);async function i(e,t){let s=await (0,r.createClient)(),{data:{user:a}}=await s.auth.getUser(),i=a,d=(0,o.cookies)().get("dev_session");if(!i&&d&&(i={id:"mock_user_id_dev"}),!i)throw Error("Unauthorized");if("mock_user_id_dev"!==i.id){let{error:t}=await s.from("integrations").update({ad_account_id:e}).eq("user_id",i.id).eq("platform","meta");if(t)throw console.error(t),Error("Failed to update account")}else(0,o.cookies)().set("dev_ad_account_id",e,{httpOnly:!0,path:"/"});(0,n.revalidatePath)("/dashboard"),(0,c.redirect)("/dashboard")}async function d(){let e=await (0,r.createClient)(),{data:{user:t}}=await e.auth.getUser(),s=t,a=(0,o.cookies)().get("dev_session");if(!s&&a&&(s={id:"mock_user_id_dev"}),!s)throw Error("Unauthorized");if("mock_user_id_dev"!==s.id){let{error:t}=await e.from("integrations").delete().eq("user_id",s.id).eq("platform","meta");if(t)throw console.error(t),Error("Failed to disconnect")}return(0,o.cookies)().delete("dev_meta_token"),(0,o.cookies)().delete("dev_ad_account_id"),(0,n.revalidatePath)("/dashboard/settings"),{success:!0}}(0,s(6893).ensureServerEntryExports)([i,d]),(0,a.createActionProxy)("d8d341e745e51cf5cccf4ddebfce74a9dfde4114",i),(0,a.createActionProxy)("85cd07c6b22bacd363f608aeb5acc473d4dbc025",d)},8268:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(5036),r=s(6843);let n=(0,r.createProxy)(String.raw`C:\Users\ojuli\AIOS\meu-projeto\components\settings\ConnectMetaButton.tsx`),{__esModule:c,$$typeof:o}=n;n.default;let i=(0,r.createProxy)(String.raw`C:\Users\ojuli\AIOS\meu-projeto\components\settings\ConnectMetaButton.tsx#ConnectMetaButton`);var d=s(9245);async function l(){let e=await (0,d.W)(),t=!!e&&"active"===e.status;return(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Configura\xe7\xf5es"}),a.jsx("p",{className:"text-slate-500",children:"Gerencie suas conex\xf5es e prefer\xeancias."})]}),(0,a.jsxs)("section",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"Integra\xe7\xf5es"}),a.jsx(i,{isConnected:t})]})]})}},5345:(e,t,s)=>{"use strict";s.d(t,{createClient:()=>n});var a=s(5827),r=s(7949);async function n(){let e=(0,r.cookies)();return(0,a.createServerClient)("https://sisydugbdmlsqvgikpyd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNpc3lkdWdiZG1sc3F2Z2lrcHlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEyODc0ODUsImV4cCI6MjA4Njg2MzQ4NX0.0MFDsfQZ5VlrKcZdAHGJXFemCxTteKIxtQ9Bnf7ByXQ",{cookies:{get:t=>e.get(t)?.value,set(t,s,a){try{e.set({name:t,value:s,...a})}catch(e){}},remove(t,s){try{e.set({name:t,value:"",...s})}catch(e){}}}})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[456,265,784,320,446,831,509,810,441],()=>s(3828));module.exports=a})();