(()=>{var e={};e.id=638,e.ids=[638],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},3292:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>l,routeModule:()=>m,tree:()=>d});var s=a(482),r=a(9108),i=a(2563),n=a.n(i),o=a(8300),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);a.d(t,c);let d=["",{children:["dashboard",{children:["agents",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8151)),"C:\\Users\\ojuli\\AIOS\\meu-projeto\\app\\dashboard\\agents\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,394)),"C:\\Users\\ojuli\\AIOS\\meu-projeto\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,2917)),"C:\\Users\\ojuli\\AIOS\\meu-projeto\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],l=["C:\\Users\\ojuli\\AIOS\\meu-projeto\\app\\dashboard\\agents\\page.tsx"],u="/dashboard/agents/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/agents/page",pathname:"/dashboard/agents",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},450:(e,t,a)=>{let s={"2cb30230f4b6b1d1268a0f9dac3dc28e51d6f828":()=>Promise.resolve().then(a.bind(a,5808)).then(e=>e.applyStatusAction),"9e6ac65483a6a1d9c67664b714de825c9fc0100d":()=>Promise.resolve().then(a.bind(a,5808)).then(e=>e.applyScalingAction)};async function r(e,...t){return(await s[e]()).apply(null,t)}e.exports={"2cb30230f4b6b1d1268a0f9dac3dc28e51d6f828":r.bind(null,"2cb30230f4b6b1d1268a0f9dac3dc28e51d6f828"),"9e6ac65483a6a1d9c67664b714de825c9fc0100d":r.bind(null,"9e6ac65483a6a1d9c67664b714de825c9fc0100d")}},3532:(e,t,a)=>{let s={"0cba707ea69ebefe44654560f96b9e2772cf258e":()=>Promise.resolve().then(a.bind(a,2678)).then(e=>e.saveManualRevenue),"2c1361a44ae66a236195ff49507cdcdc35bc6d7f":()=>Promise.resolve().then(a.bind(a,2678)).then(e=>e.deleteManualRevenue),"4fb5fd6735204f8ef004b0d6452a086dfd9e5bb1":()=>Promise.resolve().then(a.bind(a,2678)).then(e=>e.getManualRevenue)};async function r(e,...t){return(await s[e]()).apply(null,t)}e.exports={"0cba707ea69ebefe44654560f96b9e2772cf258e":r.bind(null,"0cba707ea69ebefe44654560f96b9e2772cf258e"),"2c1361a44ae66a236195ff49507cdcdc35bc6d7f":r.bind(null,"2c1361a44ae66a236195ff49507cdcdc35bc6d7f"),"4fb5fd6735204f8ef004b0d6452a086dfd9e5bb1":r.bind(null,"4fb5fd6735204f8ef004b0d6452a086dfd9e5bb1")}},4890:(e,t,a)=>{Promise.resolve().then(a.bind(a,4088)),Promise.resolve().then(a.bind(a,6212))},4088:(e,t,a)=>{"use strict";a.r(t),a.d(t,{RecommendationCard:()=>f});var s=a(5344),r=a(3729),i=a(9224);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i.Z)("Octagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}]]);var o=a(9843);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,i.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var d=a(6064),l=a(4290),u=a(2739),p=a(6212);a(3664);var m=a(8371),x=(0,m.$)("2cb30230f4b6b1d1268a0f9dac3dc28e51d6f828"),h=(0,m.$)("9e6ac65483a6a1d9c67664b714de825c9fc0100d");function f({rec:e}){let[t,a]=(0,r.useState)(!1),[i,m]=(0,r.useState)(!1),f=async()=>{a(!0);try{let t;if("strategist"===e.source){if(e.title.toLowerCase().includes("escalar")){let a=e.actionLabel.match(/R\$ ([\d,.]+)/),s=a?parseFloat(a[1].replace(",",".")):0;t=await h(e.id.replace("scale_up_",""),s)}else e.title.toLowerCase().includes("pausar")&&(t=await x(e.id.replace("pause_",""),"PAUSED"))}t?.success&&m(!0)}catch(e){console.error(e)}finally{a(!1)}},g="auditor"===e.source;return(0,s.jsxs)("div",{className:`flex gap-4 p-5 rounded-xl border bg-white shadow-sm transition-all ${i?"opacity-50 border-green-200 bg-green-50/10":"hover:border-primary-100 border-slate-100"}`,children:[s.jsx("div",{className:`flex-shrink-0 h-10 w-10 rounded-full flex items-center justify-center ${"critical"===e.type?"bg-red-50 text-red-600":"optimization"===e.type?"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600"}`,children:"strategist"===e.source?"critical"===e.type?s.jsx(n,{className:"h-5 w-5"}):s.jsx(o.Z,{className:"h-5 w-5"}):"critical"===e.type?s.jsx(c,{className:"h-5 w-5"}):s.jsx(d.Z,{className:"h-5 w-5"})}),(0,s.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-semibold text-slate-900",children:e.title}),s.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full font-bold uppercase ${"auditor"===e.source?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:e.source})]}),s.jsx("span",{className:"text-[10px] text-slate-400 font-mono",children:e.impact})]}),s.jsx("p",{className:"text-sm text-slate-500 leading-relaxed",children:e.description}),s.jsx("div",{className:"pt-3",children:i?(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs font-semibold text-green-600",children:[s.jsx(l.Z,{className:"h-4 w-4"}),"Aplicado com Sucesso"]}):(0,s.jsxs)(p.Button,{variant:"critical"===e.type?"destructive":"outline",size:"sm",className:"h-8 text-xs min-w-[120px]",onClick:f,disabled:t||g,children:[t?s.jsx(u.Z,{className:"h-3 w-3 animate-spin mr-2"}):null,g?"Somente Auditoria":e.actionLabel]})})]})]})}},9843:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},4290:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},2739:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6064:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9224).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},5808:(e,t,a)=>{"use strict";a.r(t),a.d(t,{applyScalingAction:()=>c,applyStatusAction:()=>d});var s=a(8601);a(5811);var r=a(3811),i=a(1846),n=a(3354),o=a(4930);async function c(e,t){let a=await (0,i.getIntegration)();if(!a||!a.access_token_ref)throw Error("Meta integration not found");try{let s=(0,n.decrypt)(a.access_token_ref);return await (0,o.updateBudget)(e,100*t,"daily_budget",s),(0,r.revalidatePath)("/dashboard/agents"),{success:!0}}catch(e){return console.error("Scaling application error:",e),{success:!1,error:e.message}}}async function d(e,t){let a=await (0,i.getIntegration)();if(!a||!a.access_token_ref)throw Error("Meta integration not found");try{let s=(0,n.decrypt)(a.access_token_ref);return await (0,o.updateObjectStatus)(e,t,s),(0,r.revalidatePath)("/dashboard/agents"),{success:!0}}catch(e){return console.error("Status update error:",e),{success:!1,error:e.message}}}(0,a(6893).ensureServerEntryExports)([c,d]),(0,s.createActionProxy)("9e6ac65483a6a1d9c67664b714de825c9fc0100d",c),(0,s.createActionProxy)("2cb30230f4b6b1d1268a0f9dac3dc28e51d6f828",d)},2678:(e,t,a)=>{"use strict";a.r(t),a.d(t,{deleteManualRevenue:()=>c,getManualRevenue:()=>d,saveManualRevenue:()=>o});var s=a(4471);a(8616);var r=a(6864),i=a(1664),n=a(9245);async function o(e,t){let a=await (0,n.W)();if(!a||!a.ad_account_id)throw Error("Ad account not selected");let s=await (0,i.e)(),{error:o}=await s.from("manual_revenue").upsert({ad_account_id:a.ad_account_id,date:e,revenue:t,updated_at:new Date().toISOString()},{onConflict:"ad_account_id,date"});if(o)throw console.error("Supabase Error:",o),Error("Failed to save revenue data");return(0,r.revalidatePath)("/dashboard"),(0,r.revalidatePath)("/dashboard/revenue"),{success:!0}}async function c(e){let t=await (0,i.e)(),{error:a}=await t.from("manual_revenue").delete().eq("id",e);if(a)throw Error("Failed to delete revenue record");return(0,r.revalidatePath)("/dashboard"),(0,r.revalidatePath)("/dashboard/revenue"),{success:!0}}async function d(e,t,a){let s=(await (0,i.e)()).from("manual_revenue").select("id, revenue, date").eq("ad_account_id",e).order("date",{ascending:!1});t&&(s=s.gte("date",t)),a&&(s=s.lte("date",a));let{data:r,error:n}=await s;return n?(console.error("Fetch Error:",n),[]):r}(0,a(2053).h)([o,c,d]),(0,s.U)("0cba707ea69ebefe44654560f96b9e2772cf258e",o),(0,s.U)("2c1361a44ae66a236195ff49507cdcdc35bc6d7f",c),(0,s.U)("4fb5fd6735204f8ef004b0d6452a086dfd9e5bb1",d)},8151:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S,dynamic:()=>k});var s=a(5036),r=a(9508);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,r.Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);var n=a(6793);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,r.Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),c=(0,r.Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),d=(0,r.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),l=(0,r.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),u=(0,r.Z)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);var p=a(8720);async function m(e){let t=[],a=85,s=e.clicks>0?e.spend/e.clicks:0;s>5&&(a-=20,t.push({id:"high_cpc",type:"critical",title:"CPC Elevado Detectado",description:`Seu custo por clique atual (R$ ${s.toFixed(2)}) est\xe1 40% acima da m\xe9dia do seu setor. Recomenda-se revisar o criativo ou a segmenta\xe7\xe3o.`,actionLabel:"Revisar Criativos",impact:"Redu\xe7\xe3o de ~15% no custo total"})),e.roas<3&&(a-=15,t.push({id:"low_roas",type:"optimization",title:"ROAS Abaixo da Meta",description:"O retorno sobre investimento est\xe1baixo. Considere pausar os conjuntos de an\xfancios com menor convers\xe3o.",actionLabel:"Ver Detalhes do ROAS",impact:"Aumento de 0.5x no ROAS"})),e.impressions>1e4&&e.clicks<50&&(a-=25,t.push({id:"low_ctr",type:"critical",title:"CTR Muito Baixo",description:"Muitas pessoas est\xe3o vendo seus an\xfancios, mas poucas est\xe3o clicando. Isso indica que a oferta ou a imagem n\xe3o est\xe1 atraente.",actionLabel:"Trocar Imagem",impact:"Aumento real em cliques"})),e.roas>5&&t.push({id:"scale_opportunity",type:"opportunity",title:"Oportunidade de Escala",description:"Esta conta est\xe1 performando excepcionalmente bem. Sugerimos aumentar o or\xe7amento di\xe1rio em 20% para maximizar o alcance.",actionLabel:"Aumentar Or\xe7amento",impact:"Escala de faturamento"});let r="good";return a<50?r="poor":a<80&&(r="average"),{score:Math.max(0,a),status:r,summary:({good:"Sua conta est\xe1 operando com \xf3tima efici\xeancia. Pequenos ajustes podem trazer ganhos marginais.",average:"Existem pontos de aten\xe7\xe3o que est\xe3o drenando seu or\xe7amento. Recomendamos agir nas sugest\xf5es abaixo.",poor:"Alerta cr\xedtico: sua performance est\xe1 muito abaixo do esperado. \xc9 necess\xe1rio uma revis\xe3o estrutural imediata."})[r],recommendations:t.length>0?t:[{id:"all_good",type:"opportunity",title:"Tudo em ordem!",description:"N\xe3o detectamos anomalias cr\xedticas no momento. Continue monitorando.",actionLabel:"Ver Relat\xf3rio Completo",impact:"Estabilidade"}]}}var x=a(4776),h=a(8615),f=a(9245);async function g(){let e=await (0,f.W)();if(!e||!e.access_token_ref||!e.ad_account_id)return[];try{let t=(0,x.p)(e.access_token_ref),a=await (0,h.gt)(e.ad_account_id,t),s=[];for(let e of a){if("ACTIVE"!==e.status)continue;let a=await (0,h.on)(e.id,t,"last_7d");if(0===a.length)continue;let r=a[0],i=parseFloat(r.spend||0),n=r.purchase_roas?parseFloat(r.purchase_roas[0]?.value||0):0,o=parseFloat(e.daily_budget||e.lifetime_budget||0)/100;n>4&&i>50&&s.push({id:`scale_up_${e.id}`,type:"scale_up",targetName:e.name,targetId:e.id,currentBudget:o,suggestedBudget:1.2*o,reason:`ROAS excelente de ${n.toFixed(2)}x nos \xfaltimos 7 dias.`,impact:"Aumento estimado de 15-20% em convers\xf5es"}),i>100&&n<1&&s.push({id:`pause_${e.id}`,type:"pause",targetName:e.name,targetId:e.id,currentBudget:o,reason:`Gasto elevado (R$ ${i}) sem retorno satisfat\xf3rio (ROAS ${n.toFixed(2)}).`,impact:"Economia imediata de or\xe7amento"})}return s}catch(e){return console.error("Scale strategy error:",e),[]}}async function b(e="CONVERSIONS"){let t=await (0,f.W)();if(!t||!t.access_token_ref||!t.ad_account_id)return[];try{let e=(0,x.p)(t.access_token_ref),a=await (0,h.lz)(t.ad_account_id,e),s="";return a.length>0&&(s=a.slice(0,3).map(e=>`${e.title||""} ${e.body||""} ${e.object_story_spec?.link_data?.message||""}`).join(" ").toLowerCase().split(/\s+/).filter(e=>e.length>4).slice(0,5).join(" ")),[{id:"v1",angle:"Urg\xeancia e Escassez",headline:a[0]?.title?`\xdaltima Chance: ${a[0].title}`:"Oferta exclusiva por tempo limitado",bodyText:`N\xe3o perca a oportunidade de garantir o melhor em ${s||"seu setor"}. Qualidade garantida e entrega r\xe1pida.`,cta:"Comprar Agora"},{id:"v2",angle:"Foco no Benef\xedcio",headline:`O segredo para sua satisfa\xe7\xe3o com ${s||"nossos produtos"}`,bodyText:`Descubra por que nossos clientes n\xe3o abrem m\xe3o de ${s||"nossa qualidade"}. Transforme sua experi\xeancia hoje.`,cta:"Saiba Mais"},{id:"v3",angle:"Prova Social",headline:`Milhares de pessoas j\xe1 aprovaram`,bodyText:`Junte-se \xe0 comunidade que confia em ${s||"nosso trabalho"}. Resultados reais e suporte dedicado.`,cta:"Quero Conhecer"}]}catch(e){return console.error("Creative generation error:",e),[]}}var v=a(7913),y=a(6843);let _=(0,y.createProxy)(String.raw`C:\Users\ojuli\AIOS\meu-projeto\components\dashboard\RecommendationCard.tsx`),{__esModule:j,$$typeof:w}=_;_.default;let N=(0,y.createProxy)(String.raw`C:\Users\ojuli\AIOS\meu-projeto\components\dashboard\RecommendationCard.tsx#RecommendationCard`),k="force-dynamic";async function S(){let e=await (0,p.TN)({datePreset:"last_30d"}),t=await m(e),a=await g(),r=await b(),x=await (0,f.W)();if(!x?.ad_account_id)return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-[60vh] space-y-4",children:[s.jsx(i,{className:"h-16 w-16 text-slate-300"}),s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Nenhuma conta selecionada"}),s.jsx("p",{className:"text-slate-500 max-w-xs text-center",children:"Conecte e selecione uma conta de an\xfancios para ativar seus Agentes de IA."})]});let h=[...t.recommendations.map(e=>({...e,source:"auditor"})),...a.map(e=>({id:e.id,type:"scale_up"===e.type?"optimization":"critical",title:`${"scale_up"===e.type?"Escalar":"Pausar"}: ${e.targetName}`,description:e.reason,actionLabel:"scale_up"===e.type?`Aumentar para R$ ${e.suggestedBudget?.toFixed(2)}`:"Pausar Agora",impact:e.impact,source:"strategist"}))];return(0,s.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold tracking-tight text-slate-900 flex items-center gap-2",children:[s.jsx(i,{className:"h-8 w-8 text-primary-600"}),"Seus Agentes de IA"]}),s.jsx("p",{className:"text-slate-500",children:"Automa\xe7\xe3o e intelig\xeancia 24/7 trabalhando nas suas campanhas."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-semibold border border-primary-100",children:[s.jsx(n.Z,{className:"h-4 w-4"}),"Sincronizado com Meta Ads"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden group rounded-xl border border-slate-200 bg-white p-6 shadow-sm hover:shadow-md transition-all",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-100 text-orange-600 flex items-center justify-center",children:s.jsx(o,{className:"h-6 w-6"})}),s.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold uppercase bg-green-100 text-green-700",children:"Ativo"})]}),s.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Auditor de Performance"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Analisa m\xe9tricas e anomalias na estrutura da sua conta."})]}),(0,s.jsxs)("div",{className:"relative overflow-hidden group rounded-xl border border-slate-200 bg-white p-6 shadow-sm hover:shadow-md transition-all",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center",children:s.jsx(c,{className:"h-6 w-6"})}),s.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold uppercase bg-green-100 text-green-700",children:"Ativo"})]}),s.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Estrategista de Escala"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Gerencia or\xe7amentos focando em ROAS e escalabilidade."})]}),(0,s.jsxs)("div",{className:"relative overflow-hidden group rounded-xl border border-slate-200 bg-white p-6 shadow-sm hover:shadow-md transition-all",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-purple-100 text-purple-600 flex items-center justify-center",children:s.jsx(d,{className:"h-6 w-6"})}),s.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold uppercase bg-green-100 text-green-700",children:"Ativo"})]}),s.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Est\xfadio Criativo"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Gera varia\xe7\xf5es de copy e ganchos psicol\xf3gicos para an\xfancios."})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(l,{className:"h-5 w-5"}),"Feed de Intelig\xeancia"]}),s.jsx("div",{className:"space-y-4",children:h.map(e=>s.jsx(N,{rec:e},e.id))})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(u,{className:"h-5 w-5"}),"Sugest\xf5es do Est\xfadio Criativo"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(e=>(0,s.jsxs)("div",{className:"p-5 rounded-xl border border-slate-200 bg-white space-y-3 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-purple-500"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-[10px] font-bold text-purple-600 uppercase tracking-wider",children:e.angle}),s.jsx(d,{className:"h-3 w-3 text-purple-400"})]}),s.jsx("h4",{className:"font-bold text-slate-900 leading-snug",children:e.headline}),s.jsx("p",{className:"text-sm text-slate-500 line-clamp-3",children:e.bodyText}),(0,s.jsxs)("div",{className:"pt-2 flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-xs font-medium text-slate-400",children:["CTA: ",e.cta]}),s.jsx(v.z,{variant:"ghost",size:"sm",className:"h-7 text-[10px] text-purple-600 hover:bg-purple-50",children:"Copiar Copy"})]})]},e.id))})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Relat\xf3rio da Colmeia"}),(0,s.jsxs)("div",{className:"p-6 rounded-xl bg-slate-900 text-white space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-white/10 flex items-center justify-center",children:s.jsx(i,{className:"h-6 w-6 text-primary-400"})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs text-slate-400",children:"Sistema Multi-Agente"}),s.jsx("p",{className:"text-sm font-medium",children:"Opera\xe7\xe3o 100% Sincronizada"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-slate-400",children:"Sa\xfade da Conta"}),(0,s.jsxs)("span",{className:"text-green-400 font-bold",children:[t.score,"%"]})]}),s.jsx("div",{className:"h-1.5 w-full bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500",style:{width:`${t.score}%`}})})]}),(0,s.jsxs)("div",{className:"p-3 bg-white/5 rounded-lg border border-white/10",children:[s.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Status Interno:"}),(0,s.jsxs)("p",{className:"text-xs leading-relaxed text-slate-300",children:["A colmeia detectou ",a.length," oportunidades de escala. O Auditor sugere priorizar o ajuste no CTR antes de subir o budget nas campanhas marcadas."]})]})]}),s.jsx(v.z,{className:"w-full bg-primary-500 hover:bg-primary-600 text-white h-11",children:"Executar Otimiza\xe7\xf5es em Massa"}),s.jsx("p",{className:"text-[10px] text-center text-slate-500",children:"Monitoramento realizado a cada 60 minutos."})]})]})]})]})}},7913:(e,t,a)=>{"use strict";a.d(t,{z:()=>o});var s=a(6843);let r=(0,s.createProxy)(String.raw`C:\Users\ojuli\AIOS\meu-projeto\components\ui\button.tsx`),{__esModule:i,$$typeof:n}=r;r.default;let o=(0,s.createProxy)(String.raw`C:\Users\ojuli\AIOS\meu-projeto\components\ui\button.tsx#Button`);(0,s.createProxy)(String.raw`C:\Users\ojuli\AIOS\meu-projeto\components\ui\button.tsx#buttonVariants`)},8720:(e,t,a)=>{"use strict";a.d(t,{J$:()=>c,TN:()=>o,Vv:()=>d});var s=a(4776),r=a(8615),i=a(9245),n=a(2678);async function o(e){let t=await (0,i.W)();if(!t||!t.access_token_ref||!t.ad_account_id)return{spend:0,impressions:0,clicks:0,roas:0,total_revenue:0,active_campaigns:0,cpc:0,cpm:0,ctr:0,conversions:0};try{let a;let i=(0,s.p)(t.access_token_ref),o=e?.campaignId||t.ad_account_id,c=e?.datePreset||"last_30d";e?.since&&e?.until&&(a={since:e.since,until:e.until});let d=await (0,r.on)(o,i,c,a),l=await (0,r._z)(t.ad_account_id,i),u=(await (0,n.getManualRevenue)(t.ad_account_id,e?.since,e?.until)).reduce((e,t)=>e+Number(t.revenue),0),p=d.reduce((e,t)=>({spend:e.spend+parseFloat(t.spend||0),impressions:e.impressions+parseInt(t.impressions||0),clicks:e.clicks+parseInt(t.clicks||0),conversions:e.conversions+(t.conversions||0)}),{spend:0,impressions:0,clicks:0,conversions:0}),m=l.filter(e=>"ACTIVE"===e.status).length,x=u>0?u:0,h=p.spend>0?x/p.spend:0,f=p.clicks>0?p.spend/p.clicks:0,g=p.impressions>0?p.clicks/p.impressions*100:0,b=p.impressions>0?p.spend/p.impressions*1e3:0;return{spend:p.spend,impressions:p.impressions,clicks:p.clicks,roas:Number(h.toFixed(2)),total_revenue:x,active_campaigns:m,cpc:Number(f.toFixed(2)),cpm:Number(b.toFixed(2)),ctr:Number(g.toFixed(2)),conversions:p.conversions}}catch(e){return console.error("Error fetching real metrics:",e),{spend:0,impressions:0,clicks:0,roas:0,total_revenue:0,active_campaigns:0,cpc:0,cpm:0,ctr:0,conversions:0}}}async function c(){let e=await (0,i.W)();if(!e||!e.access_token_ref||!e.ad_account_id)return[];try{let t=(0,s.p)(e.access_token_ref);return(await (0,r._z)(e.ad_account_id,t)).sort((e,t)=>new Date(t.created_time).getTime()-new Date(e.created_time).getTime()).slice(0,5).map(e=>({id:e.id,name:e.name,status:e.status,created_at:e.created_time}))}catch(e){return console.error("Error fetching recent activity:",e),[]}}async function d(e){let t=await (0,i.W)();if(!t||!t.access_token_ref||!t.ad_account_id)return[];try{let a;let i=(0,s.p)(t.access_token_ref),n=e?.campaignId||t.ad_account_id,o=e?.datePreset||"last_30d";return e?.since&&e?.until&&(a={since:e.since,until:e.until}),(await (0,r.on)(n,i,o,a,1)).reduce((e,t)=>{let a=t.date_start,s=e.findIndex(e=>e.date===a),r=parseFloat(t.spend||0),i=parseInt(t.clicks||0),n=parseInt(t.impressions||0),o=t.purchase_roas?t.purchase_roas.reduce((e,t)=>e+parseFloat(t.value),0):0;return s>-1?(e[s].spend+=r,e[s].clicks+=i,e[s].impressions+=n,e[s].revenue_est+=o*r):e.push({date:a,spend:r,clicks:i,impressions:n,revenue_est:o*r}),e},[]).map(e=>({...e,roas:e.spend>0?e.revenue_est/e.spend:0})).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())}catch(e){return console.error("Error fetching daily performance:",e),[]}}},1846:(e,t,a)=>{"use strict";a.d(t,{getIntegration:()=>i});var s=a(5345);a(3354);var r=a(7949);async function i(){let e=await (0,s.createClient)(),{data:{user:t}}=await e.auth.getUser(),a=t,i=(0,r.cookies)().get("dev_session");if(!a&&i&&(a={id:"mock_user_id_dev"}),!a)return null;if("mock_user_id_dev"===a.id){let e=r.cookies().get("dev_meta_token")?.value,t=r.cookies().get("dev_ad_account_id")?.value;return e?{id:"mock_int_real",user_id:"mock_user_id_dev",platform:"meta",status:"active",ad_account_id:t||null,access_token_ref:e,updated_at:new Date().toISOString()}:null}let{data:n}=await e.from("integrations").select("*").eq("user_id",a.id).eq("platform","meta").single();return n}},4930:(e,t,a)=>{"use strict";a.d(t,{createAdSet:()=>n,createCampaign:()=>i,updateBudget:()=>c,updateObjectStatus:()=>o});let s="v19.0",r="https://graph.facebook.com";async function i(e,t,a,i){let n=await fetch(`${r}/${s}/${e}/campaigns`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,objective:a,status:"PAUSED",special_ad_categories:["NONE"],access_token:i})}),o=await n.json();if(o.error)throw Error(o.error.message);return o}async function n(e,t,a,i){let n=await fetch(`${r}/${s}/${e}/adsets`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,campaign_id:t,status:"PAUSED",access_token:i})}),o=await n.json();if(o.error)throw Error(o.error.message);return o}async function o(e,t,a){let i=await fetch(`${r}/${s}/${e}?status=${t}&access_token=${a}`,{method:"POST"}),n=await i.json();if(n.error)throw Error(n.error.message);return n}async function c(e,t,a,i){let n=await fetch(`${r}/${s}/${e}?${a}=${Math.round(t)}&access_token=${i}`,{method:"POST"}),o=await n.json();if(o.error)throw Error(o.error.message);return o}},3354:(e,t,a)=>{"use strict";a.d(t,{decrypt:()=>i});var s=a(6113);let r=(0,s.createHash)("sha256").update(process.env.SUPABASE_SERVICE_ROLE_KEY||"fallback_dev_key").digest(),i=e=>{let[t,a,i]=e.split(":");if(!t||!a||!i)throw Error("Invalid encrypted text format");let n=(0,s.createDecipheriv)("aes-256-gcm",Buffer.from(r),Buffer.from(t,"hex"));return n.setAuthTag(Buffer.from(a,"hex")),n.update(i,"hex","utf8")+n.final("utf8")}},5345:(e,t,a)=>{"use strict";a.d(t,{createClient:()=>i});var s=a(5827),r=a(7949);async function i(){let e=(0,r.cookies)();return(0,s.createServerClient)("https://sisydugbdmlsqvgikpyd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNpc3lkdWdiZG1sc3F2Z2lrcHlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEyODc0ODUsImV4cCI6MjA4Njg2MzQ4NX0.0MFDsfQZ5VlrKcZdAHGJXFemCxTteKIxtQ9Bnf7ByXQ",{cookies:{get:t=>e.get(t)?.value,set(t,a,s){try{e.set({name:t,value:a,...s})}catch(e){}},remove(t,a){try{e.set({name:t,value:"",...a})}catch(e){}}}})}},9508:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(2),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let a=(0,s.forwardRef)(({color:a="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:d="",children:l,...u},p)=>(0,s.createElement)("svg",{ref:p,...r,width:n,height:n,stroke:a,strokeWidth:c?24*Number(o)/Number(n):o,className:["lucide",`lucide-${i(e)}`,d].join(" "),...u},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(l)?l:[l]]));return a.displayName=`${e}`,a}},6793:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(9508).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[456,265,784,320,446,831,222,509,441],()=>a(3292));module.exports=s})();