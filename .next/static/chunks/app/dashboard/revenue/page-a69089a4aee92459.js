(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[640],{4331:function(e,t,n){Promise.resolve().then(n.bind(n,7973))},5508:function(e,t,n){"use strict";n.d(t,{MT:function(){return l},cN:function(){return a}}),n(5355);var r=n(3472);(0,r.$)("4fb5fd6735204f8ef004b0d6452a086dfd9e5bb1");var a=(0,r.$)("0cba707ea69ebefe44654560f96b9e2772cf258e"),l=(0,r.$)("2c1361a44ae66a236195ff49507cdcdc35bc6d7f")},8405:function(e,t,n){"use strict";n.r(t),n.d(t,{ManualRevenueModal:function(){return m}});var r=n(3827),a=n(4090),l=n(94),s=n(7759),i=n(2235),o=n(7307),c=n(8994),d=n(9259),u=n(5754),f=n(5508);function m(e){let{initialDate:t,initialAmount:n,forceOpen:m=!1,onClose:h}=e,[x,p]=(0,a.useState)(m),[y,v]=(0,a.useState)(!1),[b,g]=(0,a.useState)(t||new Date().toISOString().split("T")[0]),[j,N]=(0,a.useState)(n||""),[k,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{p(m),t&&g(t),n&&N(n)},[m,t,n]);let Z=()=>{p(!1),h&&h()},S=async e=>{e.preventDefault(),v(!0);try{await (0,f.cN)(b,parseFloat(j)),w(!0),setTimeout(()=>{w(!1),m||N(""),Z()},1e3)}catch(e){alert("Erro ao salvar faturamento")}finally{v(!1)}};return(0,r.jsxs)(r.Fragment,{children:[!m&&(0,r.jsxs)(u.Button,{onClick:()=>p(!0),className:"bg-emerald-600 hover:bg-emerald-700 text-white gap-2",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4"}),"Lan\xe7ar Faturamento"]}),x&&(0,r.jsx)("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"h-10 w-10 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center",children:(0,r.jsx)(s.Z,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"font-bold text-slate-900",children:[t?"Editar":"Lan\xe7ar"," Faturamento"]}),(0,r.jsx)("p",{className:"text-xs text-slate-500",children:"Para c\xe1lculo de ROAS de alta precis\xe3o"})]})]}),(0,r.jsx)("button",{onClick:Z,className:"text-slate-400 hover:text-slate-600",children:(0,r.jsx)(i.Z,{className:"h-5 w-5"})})]}),(0,r.jsxs)("form",{onSubmit:S,className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"})," Data da Venda"]}),(0,r.jsx)("input",{type:"date",value:b,onChange:e=>g(e.target.value),className:"w-full p-2.5 rounded-lg border border-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none text-slate-900",required:!0,disabled:!!t})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-semibold text-slate-700 flex items-center gap-2",children:"Valor Faturado (R$)"}),(0,r.jsx)("input",{type:"number",step:"0.01",placeholder:"0,00",value:j,onChange:e=>N(e.target.value),className:"w-full p-2.5 rounded-lg border border-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none text-lg font-bold text-slate-900",required:!0,autoFocus:!0})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,r.jsx)(u.Button,{type:"button",variant:"ghost",className:"flex-1",onClick:Z,disabled:y,children:"Cancelar"}),(0,r.jsx)(u.Button,{type:"submit",className:"flex-1 transition-all ".concat(k?"bg-green-600":"bg-emerald-600 hover:bg-emerald-700"),disabled:y||k,children:y?(0,r.jsx)(c.Z,{className:"h-4 w-4 animate-spin"}):k?(0,r.jsx)(d.Z,{className:"h-4 w-4"}):"Salvar Altera\xe7\xf5es"})]})]})]})})]})}},7973:function(e,t,n){"use strict";n.r(t),n.d(t,{RevenueList:function(){return h}});var r=n(3827),a=n(4090),l=n(7461);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var i=n(7307),o=n(7759);/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,l.Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),d=(0,l.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var u=n(5508),f=n(8405),m=n(8792);function h(e){let{records:t}=e,[n,l]=(0,a.useState)(null),[h,x]=(0,a.useState)(null),p=async e=>{if(confirm("Tem certeza que deseja excluir este registro?")){l(e);try{await (0,u.MT)(e)}catch(e){alert("Erro ao excluir")}finally{l(null)}}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)(m.default,{href:"/dashboard",className:"flex items-center gap-2 text-slate-500 hover:text-slate-700 transition-colors mb-2 text-sm",children:[(0,r.jsx)(s,{className:"h-4 w-4"})," Voltar ao Dashboard"]}),(0,r.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Hist\xf3rico de Faturamento"}),(0,r.jsx)("p",{className:"text-slate-500",children:"Gerencie os lan\xe7amentos manuais usados no c\xe1lculo do ROAS."})]})}),(0,r.jsx)("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:(0,r.jsxs)("table",{className:"w-full text-left",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-slate-50 border-b border-slate-200",children:[(0,r.jsx)("th",{className:"px-6 py-4 text-sm font-semibold text-slate-700",children:"Data"}),(0,r.jsx)("th",{className:"px-6 py-4 text-sm font-semibold text-slate-700",children:"Valor Faturado"}),(0,r.jsx)("th",{className:"px-6 py-4 text-sm font-semibold text-slate-700 text-right",children:"A\xe7\xf5es"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-slate-100",children:0===t.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:3,className:"px-6 py-12 text-center text-slate-500",children:"Nenhum lan\xe7amento encontrado para esta conta."})}):t.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-slate-700",children:[(0,r.jsx)(i.Z,{className:"h-4 w-4 text-slate-400"}),new Date(e.date).toLocaleDateString("pt-BR",{timeZone:"UTC"})]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 font-bold text-emerald-600",children:[(0,r.jsx)(o.Z,{className:"h-4 w-4"}),"R$ ",Number(e.revenue).toLocaleString("pt-BR",{minimumFractionDigits:2})]})}),(0,r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,r.jsx)("button",{onClick:()=>x(e),className:"text-slate-300 hover:text-primary-600 transition-colors p-2 rounded-lg hover:bg-primary-50",title:"Editar Lan\xe7amento",children:(0,r.jsx)(c,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>p(e.id),disabled:n===e.id,className:"text-slate-300 hover:text-red-500 transition-colors p-2 rounded-lg hover:bg-red-50",title:"Excluir Lan\xe7amento",children:(0,r.jsx)(d,{className:"h-5 w-5 ".concat(n===e.id?"animate-pulse":"")})})]})})]},e.id))})]})}),h&&(0,r.jsx)(f.ManualRevenueModal,{initialDate:h.date,initialAmount:h.revenue.toString(),forceOpen:!0,onClose:()=>x(null)})]})}},5754:function(e,t,n){"use strict";n.r(t),n.d(t,{Button:function(){return c},buttonVariants:function(){return o}});var r=n(3827),a=n(4090),l=n(6371),s=n(9769),i=n(1657);let o=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-600 text-primary-foreground hover:bg-primary-600/90 text-white",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:n,variant:a,size:s,asChild:c=!1,...d}=e,u=c?l.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(o({variant:a,size:s,className:n})),ref:t,...d})});c.displayName="Button"},1657:function(e,t,n){"use strict";n.d(t,{cn:function(){return l}});var r=n(3167),a=n(1367);function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}},7307:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(7461).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9259:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(7461).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7759:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(7461).Z)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},8994:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(7461).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},94:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(7461).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2235:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.330.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8792:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var r=n(5250),a=n.n(r)},3472:function(e,t,n){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return a}});let r=n(5355);function a(e){let{createServerReference:t}=n(7355);return t(e,r.callServer)}},6371:function(e,t,n){"use strict";n.d(t,{g7:function(){return d}});var r=n(4090),a=n.t(r,2);function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var s=n(3827),i=Symbol.for("react.lazy"),o=a[" use ".trim().toString()];function c(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===i&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var d=function(e){let t=function(e){let t=r.forwardRef((e,t)=>{let{children:n,...a}=e;if(c(n)&&"function"==typeof o&&(n=o(n._payload)),r.isValidElement(n)){var s,i,d;let e,o;let c=(e=null===(i=Object.getOwnPropertyDescriptor((s=n).props,"ref"))||void 0===i?void 0:i.get)&&"isReactWarning"in e&&e.isReactWarning?s.ref:(e=null===(d=Object.getOwnPropertyDescriptor(s,"ref"))||void 0===d?void 0:d.get)&&"isReactWarning"in e&&e.isReactWarning?s.props.ref:s.props.ref||s.ref,u=function(e,t){let n={...t};for(let r in t){let a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?n[r]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=l(...t);return a(...t),r}:a&&(n[r]=a):"style"===r?n[r]={...a,...l}:"className"===r&&(n[r]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}(a,n.props);return n.type!==r.Fragment&&(u.ref=t?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1,r=t.map(t=>{let r=l(t,e);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let e=0;e<r.length;e++){let n=r[e];"function"==typeof n?n():l(t[e],null)}}}}(t,c):c),r.cloneElement(n,u)}return r.Children.count(n)>1?r.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),n=r.forwardRef((e,n)=>{let{children:a,...l}=e;c(a)&&"function"==typeof o&&(a=o(a._payload));let i=r.Children.toArray(a),d=i.find(f);if(d){let e=d.props.children,a=i.map(t=>t!==d?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...l,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return(0,s.jsx)(t,{...l,ref:n,children:a})});return n.displayName="".concat(e,".Slot"),n}("Slot"),u=Symbol("radix.slottable");function f(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===u}},9769:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var r=n(3167);let a=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,l=r.W,s=(e,t)=>n=>{var r;if((null==t?void 0:t.variants)==null)return l(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(e=>{let t=null==n?void 0:n[e],r=null==i?void 0:i[e];if(null===t)return null;let l=a(t)||a(r);return s[e][l]}),c=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return l(e,o,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...i,...c}[t]):({...i,...c})[t]===n})?[...e,n,r]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}}},function(e){e.O(0,[150,419,971,69,744],function(){return e(e.s=4331)}),_N_E=e.O()}]);